'''
Created on 30 sep 2014

@author: Hampus
'''
import tkinter as tk

class NewProject(tk.Toplevel):
    '''
    A new project dialog 
    '''


    def __init__(self, master, main):
        '''
        Constructor
        '''
        super(NewProject, self).__init__(master)
        self.grid()
        
        #height and width labels
        tk.Label(self, text = "Width:").grid(row = 0, column = 0, sticky =tk.W)
        tk.Label(self, text = "Height:").grid(row = 1, column = 0, sticky =tk.W)
        
        #height and width spin boxes
        self.widthBox = tk.Spinbox(self, textvariable = tk.StringVar(self).set(5760), from_ = 0).grid(row = 0, column = 1, sticky = tk.W)
        self.heightBox = tk.Spinbox(self, textvariable = tk.StringVar(self).set(1080), from_ = 0).grid(row = 1, column = 1, sticky = tk.W)
        
        #grid X and grid Y labels
        tk.Label(self, text = "the height and width of every cell in the grid./n Should be same as sprite width an height").grid(row = 3, column = 0, columnspan = 2, sticky = tk.W)
        tk.Label(self, text = "Grid X").grid(row = 4, column = 0, sticky = tk.W)
        tk.Label(self, text = "Grid Y").grid(row = 5, column = 0, sticky = tk.W)
        
        #grid X and grid Y spin boxes
        self.gridXBox = tk.Spinbox(self, textvariable = tk.StringVar(self).set(32), from_ = 0).grid(row = 4, column = 1, sticky = tk.W)
        self.gridYBox = tk.Spinbox(self, textvariable = tk.StringVar(self).set(32), from_ = 0).grid(row = 5, column = 1, sticky = tk.W)
        
        #finish button
        self.button = tk.Button(self, text = "Ok", command = self.okButtonPressed).grid(row = 6, column = 0, sticky = tk.W)
        self.button = tk.Button(self, text = "Cancel", command = self.cancelButtonPressed).grid(row = 6, column = 1, sticky = tk.W)
        
        self.main = main
        self.title("New")
        self.mainloop()
        
    def okButtonPressed(self):
        '''
        gets called when the Ok button on the new project dialog are pressed 
        '''
        self.main.inDict["width"] = int(self.widthBox.get())
        self.main.inDict["height"] = int(self.heightBox.get())
        
        self.main.inDict["gridX"] = int(self.gridXBox.get())
        self.main.inDict["gridY"] = int(self.gridYBox.get())
        self.destroy()
        
        self.main.newWorkSpace()
        
        
        
        